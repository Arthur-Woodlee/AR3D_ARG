//
//  Add AddNewColorTheme.html
//  AR3D_Augmented_Reality_Graphing
//
//  Created by Arthur Woodlee on 2/10/2025.
//
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Adding New Color Themes</title>
</head>
<body>
  <h1>How to Add a New Color Theme</h1>

  <p>This guide explains how to extend the graphing system with a new <code>ColorTheme</code> while preserving Open–Closed Principle (OCP) compliance and accessibility support.</p>

  <h2>1. Create a New Theme Struct</h2>
  <p>Conform to the <code>ColorTheme</code> protocol:</p>

  <pre><code>struct HighContrastTheme: ColorTheme {
    let id = UUID()
    let name = "High Contrast"

    func color(for category: String) -> UIColor {
      switch category.lowercased() {
        case "urgent": return .black
        case "normal": return .white
        default: return .gray
      }
    }

    func shape(for category: String) -> SCNGeometry {
      switch category.lowercased() {
        case "urgent": return SCNBox(width: 0.02, height: 0.02, length: 0.02, chamferRadius: 0)
        case "normal": return SCNSphere(radius: 0.02)
        default: return SCNCylinder(radius: 0.015, height: 0.03)
      }
    }
  }</code></pre>

  <h2>2. Register the Theme</h2>
  <p>Add it to the <code>ThemeRegistry</code>:</p>

  <pre><code>struct ThemeRegistry {
  static let all: [ThemeViewModel] = [
    ThemeViewModel(theme: DefaultTheme()),
    ThemeViewModel(theme: MaterialTheme()),
    ThemeViewModel(theme: NeonTheme()),
    ThemeViewModel(theme: HighContrastTheme())  // Add here
  ]
}</code></pre>

  <h2>3. Done — No Other Code Needs Changing</h2>
  <p>Thanks to protocol abstraction and view model wrapping, your theme is now available in the UI and rendering pipeline without modifying any existing logic.</p>

  <div class="note">
    <strong>Note:</strong> If your theme uses custom shapes or colors, make sure they are distinguishable for color-blind users. Use <code>shape(for:)</code> to encode semantic meaning visually.
  </div>

  <h2>Optional Enhancements</h2>
  <ul>
    <li>Add a <code>previewSwatch</code> or <code>accessibilityLabel</code> to your theme for richer UI feedback.</li>
    <li>Support dynamic theme loading from JSON or remote config.</li>
    <li>Group themes by category (e.g. "Accessibility", "Brand", "Experimental").</li>
  </ul>
</body>
</html>
